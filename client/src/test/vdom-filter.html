<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Filter Test</title>
<style>
body {
    font-family: helvetica;
}
.filterArea > div {
    /*border: 1px solid silver*/
}

</style>
</head>
<body>
<script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<script type="module">
const {createElement:$,useState} = React

import {FilterArea} from "../test/vdom-filter.js"

function FilterButton({minWidth,isOptExpander}){
    return $("div",{style:{display:"flex",flexBasis:minWidth+"em",border:"1px solid blue"}},isOptExpander? "S":"B")
}
function FilterItem({nonEmpty,value}){
    return $("div",{style:{border:"1px solid blue",height:"100%",boxSizing: "border-box",}},value)
}

function ModeButton({setState,dataKey}){
    return $("button",{ onClick: ev=>setState(was=>({...was,[dataKey]:!was[dataKey]})) }, dataKey)
}

function App(){
    const [state,setState] = useState({})
    const {noFilters,showAll} = state
    const canHide = !showAll
    return [
        $(ModeButton,{ key: "showAll", setState, dataKey: "showAll" }),
        $(ModeButton,{ key: "noFilters", setState, dataKey: "noFilters" }),
        $(FilterArea,{ key: "app",
            filters: noFilters ? [] : [
                $(FilterItem,{ key: 1, value: "1?", minWidth: 5, maxWidth:10, canHide }),
                $(FilterItem,{ key: 2, value: 2, minWidth: 10, maxWidth:10, }),
                $(FilterItem,{ key: 3, value: 3, minWidth: 5, maxWidth:10, }),
                $(FilterItem,{ key: 4, value: 4, minWidth: 5, maxWidth:10, }),
                $(FilterItem,{ key: 5, value: "5?", minWidth: 5, maxWidth:10, canHide }),
            ],
            buttons: [
                $(FilterButton,{ key: 0, minWidth: 2, area: "lt", isOptExpander: true }),
                $(FilterButton,{ key: 1, minWidth: 2, area: "lt" }),
                $(FilterButton,{ key: 2, minWidth: 2, area: "rt" }),
                $(FilterButton,{ key: 3, minWidth: 2, area: "rt" }),
                $(FilterButton,{ key: 4, minWidth: 2, area: "rt", isOptExpander: true }),
            ],
            optButtons: [
                $(FilterButton,{ key: 1, minWidth: 4, area: "lt" }),
                $(FilterButton,{ key: 2, minWidth: 4, area: "lt" }),
                $(FilterButton,{ key: 3, minWidth: 4, area: "rt" }),
                $(FilterButton,{ key: 4, minWidth: 4, area: "rt" }),
                $(FilterButton,{ key: 5, minWidth: 4, area: "rt" }),
            ],
            centerButtonText: "of",
        }),
        "AFTER"
    ]
}

const containerElement = document.createElement("div")
document.body.appendChild(containerElement)
ReactDOM.render($(App),containerElement)
</script>
</body>
</html>
<!--
высота -- 3 варианта:
    без полей -- 1 строка
    режим hide -- 2+ строки -- (инп+капшн = 2 рядакнопок) -- все заполненные + влезающие
    режим show -- 2+ строки -- все
ширина -- приоритет:
    min-w + fixed-w (of "of")
    заполненные фильтры
    "1-of" без бургера
    "of-2" без бургера
    остаток на фильтры

-->